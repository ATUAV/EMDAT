<!-- Sparkline visualization that will serve as the basis for real-time visualization of eye-tracker data. -->

<html>
	<head>
		<title>Sparkline demo with updating data</title>
		<script src="d3.v3.min.js"></script>
		<script src="sparklines.js"></script>
	</head>
	<body>

	<h1> Sparkline Demo </h1>

	<span>Stat 1:</span>
	<div id="EMDAT_Viz" class="sparkline" style="width:500px; height:60px;"></div>
	<br/>
	<span>Stat 2:</span>
	<div id="EMDAT_Viz2" class="sparkline" style="width:500px; height:60px;"></div>
	<button type="button" onclick="refresh()">Add data point.</button>

	<script>
		var data = [102, 25, 14, 103, 111, 84, 15, 120, 35, 110, 49, 99, 19, 59, 16, 17, 16];
		var data2 = [80, 45, 74, 93,  85,  64, 35, 70,  45, 90,  55, 72, 38, 18, 28, 38, 62];
		var i = 5;
		var spark = new Sparkline("EMDAT_Viz", data.slice(0,i), 10, 120, 30);
		var spark2 = new Sparkline("EMDAT_Viz2", data.slice(0,i), 10, 120, 30);
		
		function refresh()
		{
			if (i < data.length){
				spark.addData([data[i]]);
				spark2.addData([data2[i]]);
				i++;
			} else {
				spark.addData([Math.floor(Math.random()*110+10)]);
				spark2.addData([Math.floor(Math.random()*110+10)]);
			}
		}
	</script>

	</body>
</html>